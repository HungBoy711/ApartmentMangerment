<%- include('../layouts/index.ejs') %>
  <div class="container">
    <div class="page-inner">
      <div class="d-flex align-items-left align-items-md-center flex-column flex-md-row pt-2 pb-4">
        <div>
          <h3 class="fw-bold mb-3">Thống kê chung cư</h3>
          <h6 class="op-7 mb-2">Số liệu về chung cư Skyline</h6>
        </div>

      </div>
      <div class="row">
        <div class="col-sm-6 col-md-3">
          <div class="card card-stats card-round">
            <div class="card-body">
              <div class="row align-items-center">
                <div class="col-icon">
                  <div class="icon-big text-center icon-primary bubble-shadow-small">
                    <i class="fas fa-users"></i>
                  </div>
                </div>
                <div class="col col-stats ms-3 ms-sm-0">
                  <div class="numbers">
                    <p class="card-category">Cư dân</p>
                    <h4 class="card-title">
                      <%= countCitizen %> người
                    </h4>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
        <div class="col-sm-6 col-md-3">
          <div class="card card-stats card-round">
            <div class="card-body">
              <div class="row align-items-center">
                <div class="col-icon">
                  <div class="icon-big text-center icon-info bubble-shadow-small">
                    <i class="fa-solid fa-building"></i>
                  </div>
                </div>
                <div class="col col-stats ms-3 ms-sm-0">
                  <div class="numbers">
                    <p class="card-category">Căn hộ</p>
                    <h4 class="card-title">
                      <%= countApart%> căn
                    </h4>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
        <div class="col-sm-6 col-md-3">
          <div class="card card-stats card-round">
            <div class="card-body">
              <div class="row align-items-center">
                <div class="col-icon">
                  <div class="icon-big text-center icon-success bubble-shadow-small">
                    <i class="fas fa-luggage-cart"></i>
                  </div>
                </div>
                <div class="col col-stats ms-3 ms-sm-0">
                  <div class="numbers">
                    <p class="card-category">Cơ sở vật chất</p>
                    <h4 class="card-title">
                      <%= countAsset%> tài sản
                    </h4>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
        <div class="col-sm-6 col-md-3">
          <div class="card card-stats card-round">
            <div class="card-body">
              <div class="row align-items-center">
                <div class="col-icon">
                  <div class="icon-big text-center icon-secondary bubble-shadow-small">
                    <i class="fa-solid fa-user"></i>
                  </div>
                </div>
                <div class="col col-stats ms-3 ms-sm-0">
                  <div class="numbers">
                    <p class="card-category">Tài khoản</p>
                    <h4 class="card-title">
                      <%= countUser%> người dùng
                    </h4>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="row">
        <div class="col-md-8">
          <div class="card card-round">
            <div class="card-header">
              <div class="card-head-row">
                <div class="card-title">Biểu đồ căn hộ</div>
                <div class="card-tools">
                  <a href="#" class="btn btn-label-success btn-round btn-sm me-2">
                    <span class="btn-label">
                      <i class="fa fa-pencil"></i>
                    </span>
                    Export
                  </a>
                  <a href="#" class="btn btn-label-info btn-round btn-sm">
                    <span class="btn-label">
                      <i class="fa fa-print"></i>
                    </span>
                    Print
                  </a>
                </div>
              </div>
            </div>
            <div class="card-body">
              <div class="chart-container">
                <canvas id="doughnutChart" style="width: 50%; height: 50%"></canvas>
              </div>
            </div>
          </div>
        </div>
        <div class="col-md-4">
          <div class="card card-primary card-round">
            <div class="card-header">
              <div class="card-head-row">
                <div class="card-title">Tài khoản ngân hàng</div>
                <div class="card-tools">
                  <div class="dropdown">

                  </div>
                </div>
              </div>
              <div class="card-category">1/12 - 1/1</div>
            </div>
            <div class="card-body pb-0">
              <div class="mb-4 mt-2">
                <h1>0đ</h1>
              </div>
              <div class="pull-in">
                <canvas id="dailySalesChart"></canvas>
              </div>
            </div>
          </div>

        </div>
      </div>

      <div class="row">


      </div>
    </div>
  </div>
  </div>
  </div>
  <script>
    var countApartInUse = JSON.parse('<%- JSON.stringify(countApartInUse) %>')
    var countEmpty = JSON.parse('<%- JSON.stringify(countEmpty) %>')
    var myDoughnutChart = new Chart(doughnutChart, {
      type: "doughnut",
      data: {
        datasets: [
          {
            data: [countApartInUse, countEmpty],
            backgroundColor: ["#1d7af3", "#fdaf4b"],
          },
        ],

        labels: ["Căn hộ đang ở", "Căn hộ trống"],
      },
      options: {
        responsive: true,
        maintainAspectRatio: false,
        legend: {
          position: "bottom",
        },
        layout: {
          padding: {
            left: 20,
            right: 20,
            top: 20,
            bottom: 20,
          },
        },
      },
    });
  </script>